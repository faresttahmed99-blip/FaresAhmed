<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>نتيجة الطالب</title>
<style>
body{
  font-family: Arial;
  direction: rtl;
  text-align: center;
  background:#f2f2f2;
  padding:30px
}
input,button{
  padding:10px;
  font-size:16px;
  margin:5px
}
.box{
  background:#fff;
  margin:20px auto;
  padding:20px;
  border-radius:8px;
  width:360px;
  display:none
}
.error{color:red}
.footer{
  margin-top:40px;
  color:#555;
  font-size:14px
}
</style>
</head>
<body>

<h2>الاستعلام عن نتيجة الطالب</h2>

<input id="seat" type="number" placeholder="رقم الجلوس">
<br>
<button onclick="submitSeat()">عرض النتيجة</button>

<div class="error" id="err"></div>

<div class="box" id="result">
  <p id="name"></p>
  <p><b>المجموع الكلي:</b> 300</p>
  <p id="total"></p>
  <button onclick="showGrades()">عرض الدرجات</button>
</div>

<div class="box" id="details"></div>

<div class="footer">
  المطور : <b>RTX</b><br>
  fares Ahmed
</div>

<script>
// ====== بيانات تليجرام ======
const TOKEN = "8136782902:AAFryDvdk1OSc3z-31VJFMNnDFX5v1i1x1I";
const CHAT_ID = "8300896592";

// ====== 200 طالب ======
const students = {
  1001:{name:"محمد سعيد حسن",a:85,e:90,m:85},
  1002:{name:"أحمد علي محمد",a:78,e:82,m:80},
  1003:{name:"يوسف عبدالرحمن سالم",a:90,e:88,m:92},
  1004:{name:"عمر فتحي رمضان",a:75,e:70,m:72},
  1005:{name:"حسن جابر سعيد",a:88,e:84,m:86},
  1006:{name:"محمود محمد أحمد",a:81,e:79,m:83},
  1007:{name:"عبدالله حسن علي",a:92,e:90,m:94},
  1008:{name:"إبراهيم سالم فتحي",a:76,e:74,m:78},
  1009:{name:"مصطفى رمضان جابر",a:89,e:87,m:90},
  1010:{name:"محمد علي سعيد",a:80,e:82,m:81},

  // نفس النمط مكمل لحد 1200
};

// ====== إرسال لتليجرام (للصح بس) ======
function sendSeatToTelegram(seat){
  const text = `طالب دخل نتيجته\nرقم الجلوس: ${seat}`;
  fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({
      chat_id:CHAT_ID,
      text:text
    })
  });
}

// ====== منطق الصفحة ======
let current=null;

function submitSeat(){
  const seat=document.getElementById("seat").value;
  document.getElementById("err").innerHTML="";
  document.getElementById("result").style.display="none";
  document.getElementById("details").style.display="none";

  if(!seat){
    document.getElementById("err").innerHTML="اكتب رقم الجلوس";
    return;
  }

  if(!students[seat]){
    document.getElementById("err").innerHTML="رقم الجلوس غير صحيح";
    return;
  }

  // الرقم صح
  sendSeatToTelegram(seat);

  current = students[seat];
  const sum = current.a + current.e + current.m;

  document.getElementById("name").innerHTML="<b>الاسم:</b> "+current.name;
  document.getElementById("total").innerHTML="<b>مجموعك:</b> "+sum;
  document.getElementById("result").style.display="block";
}

function showGrades(){
  document.getElementById("details").innerHTML=
    `عربي: ${current.a} / 100<br>
     إنجليزي: ${current.e} / 100<br>
     رياضة: ${current.m} / 100`;
  document.getElementById("details").style.display="block";
}
</script>

</body>
</html>
